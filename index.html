<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Defense Monitor | PRO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@200;400;700;800&family=Orbitron:wght@400;700;900&family=JetBrains+Mono&display=swap');
        
        body {
            background-color: #020617;
            color: #94a3b8;
            font-family: 'Assistant', sans-serif;
            overflow: hidden;
            height: 100vh;
        }

        .orbitron { font-family: 'Orbitron', sans-serif; }
        .mono { font-family: 'JetBrains Mono', monospace; }

        /* עיצוב ה-HUD */
        .hud-panel {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(56, 189, 248, 0.2);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .neon-text {
            color: #38bdf8;
            text-shadow: 0 0 10px rgba(56, 189, 248, 0.5);
        }

        .danger-pulse {
            animation: pulse-red 2s infinite;
        }

        @keyframes pulse-red {
            0%, 100% { color: #ef4444; opacity: 1; }
            50% { opacity: 0.4; }
        }

        /* התאמת ה-Iframe למסך */
        .map-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: #000;
        }

        iframe {
            width: 100%;
            height: 100%;
            filter: hue-rotate(10deg) brightness(0.9);
        }

        /* לוגים של הטרמינל */
        .terminal-scroll::-webkit-scrollbar { width: 4px; }
        .terminal-scroll::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 10px; }

        /* רשת קואורדינטות מעל המפה */
        .grid-overlay {
            position: absolute;
            inset: 0;
            background-image: radial-gradient(rgba(56, 189, 248, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
        }
    </style>
</head>
<body class="flex flex-col">

    <!-- Header -->
    <header class="h-16 hud-panel border-b border-sky-900/30 px-6 flex justify-between items-center z-50">
        <div class="flex items-center gap-4">
            <div class="text-sky-500 text-2xl animate-spin-slow">
                <i class="fas fa-shield-halved"></i>
            </div>
            <div>
                <h1 class="orbitron text-lg font-black tracking-widest text-white">CYBER_CORE <span class="neon-text">v7.2</span></h1>
                <p class="text-[9px] uppercase tracking-[0.3em] text-sky-500/60 font-bold" id="ui-subtitle">Global Threat Intelligence Monitor</p>
            </div>
        </div>

        <div class="flex items-center gap-6">
            <!-- Language Selector -->
            <div class="flex bg-slate-900/50 rounded-lg p-1 border border-sky-900/30">
                <button onclick="setLang('en')" id="lang-en" class="px-3 py-1 text-[10px] font-bold rounded transition-all bg-sky-600 text-white">EN</button>
                <button onclick="setLang('he')" id="lang-he" class="px-3 py-1 text-[10px] font-bold rounded transition-all text-slate-500">עברית</button>
            </div>
            <!-- Clock -->
            <div class="text-right">
                <div id="clock" class="orbitron text-xl font-bold text-white leading-none">00:00:00</div>
                <div class="text-[9px] text-sky-500 font-bold uppercase tracking-widest" id="ui-tz">UTC / Global Sync</div>
            </div>
        </div>
    </header>

    <div class="flex-1 flex relative overflow-hidden">
        
        <!-- Sidebar - Statistics & Terminal -->
        <aside class="w-80 hud-panel border-r border-sky-900/30 flex flex-col z-40">
            <!-- Threat Level -->
            <div class="p-6 border-b border-sky-900/30 text-center">
                <h3 class="text-[10px] font-bold uppercase tracking-widest mb-2" id="ui-threat-lvl">Security Threat Level</h3>
                <div class="text-3xl font-black orbitron danger-pulse">ELEVATED</div>
                <div class="mt-4 flex gap-1 justify-center">
                    <div class="h-1 w-8 bg-green-500 opacity-20"></div>
                    <div class="h-1 w-8 bg-yellow-500"></div>
                    <div class="h-1 w-8 bg-orange-500"></div>
                    <div class="h-1 w-8 bg-red-500 danger-pulse"></div>
                </div>
            </div>

            <!-- Stats -->
            <div class="p-4 space-y-4">
                <div class="bg-slate-900/50 p-3 rounded-lg border border-sky-900/20">
                    <div class="flex justify-between text-[10px] mb-1 font-bold"><span id="ui-active-attacks">Active Incursions</span><span class="neon-text">14.2k</span></div>
                    <div class="w-full bg-slate-800 h-1 rounded-full overflow-hidden">
                        <div class="bg-sky-500 h-full w-[70%] animate-pulse"></div>
                    </div>
                </div>
                <div class="bg-slate-900/50 p-3 rounded-lg border border-sky-900/20">
                    <div class="flex justify-between text-[10px] mb-1 font-bold"><span id="ui-system-load">System Capacity</span><span class="text-emerald-500">Normal</span></div>
                    <div class="w-full bg-slate-800 h-1 rounded-full overflow-hidden">
                        <div class="bg-emerald-500 h-full w-[30%]"></div>
                    </div>
                </div>
            </div>

            <!-- Terminal -->
            <div class="flex-1 p-4 flex flex-col overflow-hidden">
                <div class="flex items-center gap-2 mb-2">
                    <i class="fas fa-terminal text-[10px] text-sky-500"></i>
                    <span class="text-[10px] font-bold uppercase tracking-widest" id="ui-logs">System Logs</span>
                </div>
                <div id="terminal" class="flex-1 mono text-[9px] text-sky-400/80 terminal-scroll overflow-y-auto space-y-1">
                    <p>> Initializing secure uplink...</p>
                    <p>> Connection established with K-SERVER</p>
                    <p>> Monitoring global packets...</p>
                </div>
            </div>
        </aside>

        <!-- Main Map Area -->
        <main class="flex-1 relative">
            <div class="grid-overlay"></div>
            
            <!-- THE MAP WIDGET -->
            <div class="map-container">
                <iframe 
                    id="cybermap-frame"
                    src="https://cybermap.kaspersky.com/en/widget/dynamic/dark" 
                    frameborder="0">
                </iframe>
            </div>

            <!-- Floating HUD Elements over Map -->
            <div class="absolute bottom-6 left-6 p-4 hud-panel rounded-xl pointer-events-none">
                <div class="text-[10px] font-bold text-sky-500 uppercase mb-2" id="ui-active-region">Active Scanning Region</div>
                <div class="orbitron text-white text-sm">LAT: 32.085 | LNG: 34.781</div>
                <div class="text-[8px] text-slate-500 mt-1 uppercase">Automated Satellite Tracking Active</div>
            </div>
        </main>
    </div>

    <!-- Footer Bar -->
    <footer class="h-8 hud-panel border-t border-sky-900/30 flex items-center px-4 overflow-hidden z-50">
        <div class="bg-sky-600 text-black text-[9px] font-black px-2 py-0.5 rounded mr-4 uppercase shrink-0" id="ui-broadcast">Broadcast</div>
        <div class="text-[10px] font-bold tracking-wide italic truncate">
            <span id="ui-ticker">Global Cyberthreat activity detected: Increase in encrypted ransomware packets across Northern Europe. Scanning for origins...</span>
        </div>
    </footer>

    <script>
        // --- מערכת שפות ---
        const i18n = {
            en: {
                subtitle: "Global Threat Intelligence Monitor",
                tz: "UTC / Global Sync",
                threatLvl: "Security Threat Level",
                activeAttacks: "Active Incursions",
                systemLoad: "System Capacity",
                logs: "System Logs",
                activeRegion: "Active Scanning Region",
                broadcast: "Broadcast",
                ticker: "Global Cyberthreat activity detected: Increase in encrypted ransomware packets. Monitoring origins...",
                dir: "ltr"
            },
            he: {
                subtitle: "ניטור איומי סייבר גלובלי",
                tz: "זמן עולמי / סנכרון",
                threatLvl: "רמת איום אבטחה",
                activeAttacks: "מתקפות פעילות",
                systemLoad: "קיבולת מערכת",
                logs: "יומן מערכת",
                activeRegion: "אזור סריקה פעיל",
                broadcast: "שידור",
                ticker: "זוהתה פעילות סייבר גלובלית: עלייה בחבילות מידע מוצפנות באירופה. מבצע סריקת מקור...",
                dir: "rtl"
            }
        };

        function setLang(lang) {
            const data = i18n[lang];
            document.documentElement.setAttribute('dir', data.dir);
            document.documentElement.setAttribute('lang', lang);

            // עדכון טקסטים
            document.getElementById('ui-subtitle').innerText = data.subtitle;
            document.getElementById('ui-tz').innerText = data.tz;
            document.getElementById('ui-threat-lvl').innerText = data.threatLvl;
            document.getElementById('ui-active-attacks').innerText = data.activeAttacks;
            document.getElementById('ui-system-load').innerText = data.systemLoad;
            document.getElementById('ui-logs').innerText = data.logs;
            document.getElementById('ui-active-region').innerText = data.activeRegion;
            document.getElementById('ui-broadcast').innerText = data.broadcast;
            document.getElementById('ui-ticker').innerText = data.ticker;

            // החלפת שפת ה-Widget
            document.getElementById('cybermap-frame').src = `https://cybermap.kaspersky.com/${lang}/widget/dynamic/dark`;

            // עיצוב כפתורים
            document.getElementById('lang-en').className = lang === 'en' ? "px-3 py-1 text-[10px] font-bold rounded transition-all bg-sky-600 text-white" : "px-3 py-1 text-[10px] font-bold rounded transition-all text-slate-500";
            document.getElementById('lang-he').className = lang === 'he' ? "px-3 py-1 text-[10px] font-bold rounded transition-all bg-sky-600 text-white" : "px-3 py-1 text-[10px] font-bold rounded transition-all text-slate-500";
        }

        // --- שעון ---
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = now.toTimeString().split(' ')[0];
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- טרמינל (לוגים מדומים) ---
        const terminal = document.getElementById('terminal');
        const logMessages = [
            "Detecting suspicious IP: 192.168.1.104",
            "DDoS mitigation active on node #4",
            "New malware signature found in HK",
            "Firewall bypassed - re-routing...",
            "SSL handshake verified with SERVER_B",
            "Botnet activity detected in Region_7",
            "Updating global threat definitions",
            "Packet injection attempt blocked",
            "Encrypted tunnel opened from unknown source",
            "Analyzing payload in Sandbox_Alpha"
        ];

        function addLog() {
            const msg = logMessages[Math.floor(Math.random() * logMessages.length)];
            const time = new Date().toLocaleTimeString().split(' ')[0];
            const p = document.createElement('p');
            p.innerText = `[${time}] > ${msg}`;
            p.className = "fade-in";
            terminal.appendChild(p);
            terminal.scrollTop = terminal.scrollHeight;

            if(terminal.children.length > 50) terminal.removeChild(terminal.firstChild);
        }
        setInterval(addLog, 3000);

        // אתחול לשפה ראשית אנגלית
        setLang('en');
    </script>
</body>
</html>
